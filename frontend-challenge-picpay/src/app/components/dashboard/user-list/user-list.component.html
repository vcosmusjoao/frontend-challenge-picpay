<div class="task-grid-container">
  <app-user-filter (filtersChanged)="onFiltersChanged($event)"></app-user-filter>

  <div class="btn">
    <button (click)="openCreateDialog()" pButton label="Criar Novo Usuário"></button>
  </div>

  <app-user-form 
    [titleModal]="tittleModal"
    (userCreated)="loadAccounts()" 
    (userUpdated)="loadAccounts()"
    [(visible)]="visible" 
    [userToEdit]="editedAccount">
  </app-user-form>

  <p-table [value]="filteredUsers.length ? filteredUsers : users" [paginator]="true" [rows]="10">
    <ng-template pTemplate="header">
      <tr>
        <th>Nome</th>
        <th>E-mail</th>
        <th>Senha</th>
        <th>Ações</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
      <tr>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ maskPassword(user.password) }}</td>
        <td>
          <button class="icn" (click)="openEditDialog(user)" pButton icon="pi pi-pencil" style="margin-right: 8px;"></button>
          <button class="icn" (click)="deleteUser(user)" pButton icon="pi pi-trash"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
