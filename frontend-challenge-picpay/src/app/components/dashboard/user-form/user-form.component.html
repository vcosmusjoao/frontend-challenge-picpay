<p-dialog [header]="titleModal"
          [closable]="false" 
          [position]="'right'" 
          [modal]="true" 
          [(visible)]="visible" 
          [style]="{ width: '25rem', height: '100vh' }" 
          [baseZIndex]="10000">

  <form [formGroup]="form" (ngSubmit)="createOrUpdateAccount()">
    <div class="p-fluid">
      <div class="field">
        <label for="name">Nome</label>
        <input type="text" pInputText formControlName="name" id="name" 
               [class.is-invalid]="form.get('name').invalid && form.get('name').touched" />
        <div *ngIf="form.get('name').invalid && form.get('name').touched" class="error-message">
          Nome é obrigatório.
        </div>
      </div>

      <div class="field">
        <label for="email">E-mail</label>
        <input type="text" pInputText formControlName="email" id="email" 
               [class.is-invalid]="form.get('email').invalid && form.get('email').touched" />
        <div *ngIf="form.get('email').invalid && form.get('email').touched" class="error-message">
          E-mail inválido.
        </div>
      </div>

      <div class="field">
        <label for="password">Senha</label>
        <div class="p-inputgroup">
          <input [type]="showPassword ? 'text' : 'password'" 
                 pInputText formControlName="password" id="password" 
                 [class.is-invalid]="form.get('password').invalid && form.get('password').touched" />
          <button pButton type="button" icon="{{ showPassword ? 'pi pi-eye-slash' : 'pi pi-eye' }}" 
                  (click)="togglePasswordVisibility()"></button>
        </div>
        <div *ngIf="form.get('password').invalid && form.get('password').touched" class="error-message">
          Senha é obrigatória.
        </div>
      </div>
    </div>

    <div class="buttons">
      <p-button label="Cancelar" severity="secondary" (click)="close()"></p-button>
      <p-button label="Salvar" [disabled]="form.invalid" type="submit"></p-button>
    </div>
  </form>

</p-dialog>
